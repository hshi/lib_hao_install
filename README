These are the scripts for easy installation of the entire lib_hao:

1. Download lib_hao_install
   Open a terminal, run: "git clone https://github.com/hshi/lib_hao_install" 


2. Download all the lib_hao libraries 
   Go to lib_hao_install, run: "python download.py"


3. Install the lib_hao libraries
   Stay in the lib_hao_install, run: "python install.py type"
   "type" can be: mpi, serial, storm, hu, hu+magma, ...
   You can build your own "type" in cmake.py for different platform, read the "Build your own type" below.


4. Test the lib hao
   1) If you are in a cluster, first require an interactive job, e.g.
      "qsub -X -I -l walltime=1:00:00 -l nodes=1:wind:ppn=16"

   2) Go to the directory where you install the libraries (can be found in cmake.py, set by -DCMAKE_INSTALL_PREFIX:PATH)
   
   3) "cd test"
 
   4) "python Path/to/lib_hao_install/runtest.py type"   "type" can be found in runtest.py.


5) Clean the lib_hao_install directory
   Go to lib_hao_install, run: "python clean.py"



Dependence:
   1) fftw_lib_hao 
       need fftw library, and FFTW=/PATH/TO/FFTW, e.g. export FFTW='/opt/fftw'

   2) matrix_lib_hao 
       Need mkl library, and MKL=/PATH/TO/MKL, e.g. export MKL='/opt/intel/mkl' "
       Or need acml library, and ACML=/PATH/TO/ACML, e.g. export ACML='/usr/local/acml-5.1.0/' 
       Need magma library(optional), and MAGMA=/PATH/TO/MAGMA, e.g. export MAGMA='/usr/local/intel64/nehalem/magma-1.3.0'
       Note: magma need cuda.

   3) mpi_lib_hao
       Need mpi.

   4) random_lib_hao
       Need sprng library, and SPRNG=/PATH/TO/SPRNG, e.g. export SPRNG='/home/username/sprng/sprng2.0'
       Need gmp library, and GMP=/PATH/TO/GMP, e.g. export GMP='/usr/local/gmp-4.3.2'.


Build your own type:
   You can write your own type in cmake.py, here are a few tips.
   1. set the compiler, e.g. -DCMAKE_CXX_COMPILER=mpic++
   2. set the compiler flag, e.g. -DCOMPILER_EXTRA_FLAG:STRING='-Wall -O3 -std=c++11'
   3. if you want to install the mpi version, use: -DCOMPILER_EXTRA_DEF:STRING='-DMPI_HAO'
   4. set the custom cmake module path, it is automatically downloaded in ~/cmake/Modules, if you change the module path to '/MY/MODULE/PATH', use: -DMODULE_EXTRA_PATH:STRING='/MY/MODULE/PATH'
   5. set the path where you want to install the libraries, e.g. -DCMAKE_INSTALL_PREFIX:PATH=~/lib_hao/mpi
   6. if you want to use magma, use: -DUSE_MAGMA=on
   7. set path for your dependent libraries, e.g. os.environ['SPRNG'] = "~/sprng2.0", os.environ['FFTW'] = "/opt/fftw", check "Dependence" for details.


This project is licensed under the terms of the MIT license, enjoy your coding.
